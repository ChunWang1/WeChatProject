<!--pages/warehouse/warehouse.wxml-->
<!--顶部导航栏-->
 
<view class="swiper-tab">
 
<view class="tab-item {{currentTab==0 ? 'on' : ''}}" data-current="0" bindtap="swichNav">智慧泥仓</view>
 
<view class="tab-item {{currentTab==1 ? 'on' : ''}}" data-current="1" bindtap="swichNav">污泥出入记录</view>
 
<view class="tab-item {{currentTab==2 ? 'on' : ''}}" data-current="2" bindtap="swichNav">处理记录</view>

</view>

<!--内容主体-->
<swiper class="swiper" current="{{currentTab}}" duration="200" bindchange="swiperChange">
 
<swiper-item>
<form>
<view class="echart-iframe">
  <ec-canvas id="mychart-dom-pie" canvas-id="mychart-pie" ec="{{ ec }}" bind:init="echartInit"></ec-canvas>
</view>
<view class='chart-iframe' wx:for="{{itemList}}" wx:key="{{itemList.name}}" wx:for-item="item">
  <view class='ViewText'>{{item.name}}号仓({{item.moistrueDegree}})</view>
  <view class='testText'>
  <text>总容量：{{item.capacity}}吨</text>
  </view>
  <view class='setting'>
  <image style="width:40rpx;height:40rpx;margin-left:10px;        margin-right:10px;" mode="scaleToFill" src="{{imageSrc2}}"></image>
  <text class='testText'>存储量</text>
    <image style="width:40rpx;height:40rpx;margin-left:10px;        margin-right:10px;"mode="scaleToFill" src="{{imageSrc1}}"></image>
    <text class='testText'>剩余量</text>
  </view>
  <view style='width:100%;height:200rpx'>
    <ec-canvas id="mychart-dom-bar" canvas-id="mychart-bar" tuData="{{item.data}}" ec="{{ ec }}"></ec-canvas>
  </view>
</view>
</form>
</swiper-item>
 
<swiper-item>

<view class="panel flex-column">
    <view class="flex-cell flex-row" >
        <text class="flex-cell flex-row" style="font-weight:bold">状态</text>
        <text class="flex-cell flex-row" style="font-weight:bold">编号</text>
        <text class="flex-cell flex-row" style="font-weight:bold">目的地</text>
        <text class="flex-cell flex-row" style="font-weight:bold">重量</text>
        <text class="flex-cell flex-row" style="font-weight:bold">功能</text>
    </view>
    <view class="flex-row flex-cell" wx:for="{{sludgeList}}" wx:for-item="sludge"  wx:key="{{sludgeList.rfidString}}" style="display:{{recordShow}};margin:20rpx">
        <text class="flex-cell flex-row" wx:if="{{sludge.status == 0 ||sludge.status==2||sludge.status==4}}" style='color:#FFFF00'>未到达</text>
        <text class="flex-cell flex-row" wx:elif="{{sludge.status == 1||sludge.status == 3||sludge.status == 5}}" style="color:#008000">已到达</text>
        <text class="flex-cell flex-row" wx:else></text>

        <text class="flex-cell flex-row">{{sludge.rfidString}}</text>
        <text class="flex-cell flex-row">{{sludge.destinationAddress}}</text>
        <text class="flex-cell flex-row">{{sludge.weight}}吨</text>
        <text class="flex-cell flex-row" wx:if="{{sludge.sludgeFunction.function == null}}"></text>
         <text class="flex-cell flex-row" wx:else>{{sludge.sludgeFunction.function}}</text>
    </view>
</view>




<!--
<view class="table">
  <view class="tr">
    <view class="th">状态</view>
    <view class="th">编号</view>
    <view class="th ">目的地</view>
    <view class="th ">重量</view>
    <view class="th ">功能</view>
  </view>
    <block  wx:for="{{sludgeList}}" wx:for-item="sludge" wx:key="{{sludge.rfidString}}">
      <view class="tr">
      <view class="td" wx:if="{{sludge.status == 0 ||sludge.status==2||sludge.status==4}}">未到达</view>
      <view class="td" wx:elif="{{sludge.status == 1||sludge.status == 3||sludge.status == 5}}">已到达</view>
      <view class="td" wx:else></view>
      <view class="td">{{sludge.rfidString}}</view>
      <view class="td">{{sludge.destinationAddress}}</view>
      <view class="td">{{sludge.weight}}吨</view>
      <view class="td" wx:if="{{sludge.sludgeFunction.function == null}}"></view>
      <view class="td" wx:else>{{sludge.sludgeFunction.function}}</view>
    </view>
  </block>
</view>
 -->
</swiper-item>
 
<swiper-item>
 
<view class="panel flex-column">
    <view class="flex-cell flex-row">
        <text class="flex-cell flex-row" style="font-weight:bold">状态</text>
        <text class="flex-cell flex-row" style="font-weight:bold">工厂</text>
        <text class="flex-cell flex-row" style="font-weight:bold">处理人</text>
        <text class="flex-cell flex-row" style="font-weight:bold">污泥重量</text>
        
    </view>
    <view class="flex-row flex-cell"  wx:for="{{recordList}}" wx:for-item="record" wx:key="{{recordList.site.siteName}}">
        <text class="flex-cell flex-row" wx:if="{{record.status == 0}}" style="color:#008000">已完成</text>
        <text class="flex-cell flex-row" wx:elif="{{record.status == 1}}" style='color:#FFFF00'>处理中</text>
        <text class="flex-cell flex-row" wx:elif="{{record.status == 2}}" style='color:#FF0000'>待处理</text>
        <text class="flex-cell flex-row" wx:else></text>

        <text class="flex-cell flex-row">{{record.site.siteName}}</text>
        <text class="flex-cell flex-row" wx:if="{{record.car.driver.realname == null}}"></text>
        <text class="flex-cell flex-row" wx:else>{{record.car.driver.realname}}</text>
        <text class="flex-cell flex-row">{{record.sludgesWeight}}吨</text>
    </view>
    
</view>

<!--
<view  class="table">
<view class="tr">
    <view class="th">状态</view>
    <view class="th">工厂</view>
    <view class="th ">处理人</view>
    <view class="th ">污泥重量</view>
  </view>
    <block  wx:for="{{recordList}}" wx:for-item="record">
      <view class="tr">
      <view class="td" wx:if="{{record.status == 0}}">已完成</view>
      <view class="td" wx:elif="{{record.status == 1}}">处理中</view>
      <view class="td" wx:elif="{{record.status == 2}}">待处理</view>
      <view class="td" wx:else></view>
      <view class="td">{{record.site.siteName}}</view>
      <view class="td" wx:if="{{record.car.driver.realname == null}}"></view>
      <view class="td" wx:else>{{record.car.driver.realname}}</view>
      <view class="td">{{record.sludgesWeight}}吨</view>
    </view>
  </block>
</view>
-->
 
</swiper-item>
 
</swiper>
